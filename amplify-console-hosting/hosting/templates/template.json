{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "Branch stack creation for AWS Amplify Console",
    "Parameters": {
        "env": {
            "Type": "String"
        },
        "appId": {
            "Type": "String"
        },
        "type": {
            "Type": "String"
        }
    },
    "Conditions": {
        "ShouldNotCreateEnvResources": {
            "Fn::Equals": [
                {
                    "Ref": "env"
                },
                "NONE"
            ]
        },
        "isManual": {
            "Fn::Equals": [
                {
                    "Ref": "type"
                },
                "manual"
            ]
        }
    },
    "Resources": {
        "AmplifyBranch": {
            "Condition": "isManual",
            "Type": "AWS::Amplify::Branch",
            "Properties": {
                "BranchName": {
                    "Ref": "env"
                },
                "AppId": {
                    "Ref": "appId"
                }
            }
        }
    }
}