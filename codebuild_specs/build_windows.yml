version: 0.2
env:
  shell: powershell.exe
phases:
  build:
    commands:
      - choco install -fy nodejs-lts --version=18.20.0
      - cd scripts
      - yarn
      - cd ..
      - yarn --immutable
      - yarn production-build
      - yarn build-tests
      - bash ./codebuild_specs/scripts-windows/save-build-windows.sh

artifacts:
  files:
    - 'shared-scripts.sh'
