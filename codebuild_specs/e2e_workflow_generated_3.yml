# auto generated file. DO NOT EDIT manually
version: 0.2
env:
  shell: bash
  compute-type: BUILD_GENERAL1_MEDIUM
  variables:
    AWS_DEFAULT_REGION: us-east-1
    AWS_REGION: us-east-1
    CDK_DEFAULT_REGION: us-east-1
    CLI_REGION: us-east-1
    TEST_SUITE: src/__tests__/auth_2b.test.ts
    AMPLIFY_DIR: $CODEBUILD_SRC_DIR/out
    AMPLIFY_PATH: $CODEBUILD_SRC_DIR/out/amplify-pkg-linux-x64
batch:
  fast-fail: false
  build-graph:
    - identifier: build_linux
      buildspec: codebuild_specs/build_linux.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
    - identifier: build_windows
      buildspec: codebuild_specs/build_windows.yml
      env:
        type: WINDOWS_SERVER_2019_CONTAINER
        compute-type: BUILD_GENERAL1_LARGE
        image: $WINDOWS_IMAGE_2019
    - identifier: test
      buildspec: codebuild_specs/test.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_linux
    - identifier: mock_e2e_tests
      buildspec: codebuild_specs/mock_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_linux
    - identifier: validate_cdk_version
      buildspec: codebuild_specs/validate_cdk_version.yml
      depend-on:
        - build_linux
    - identifier: verify_api_extract
      buildspec: codebuild_specs/verify_api_extract.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_linux
    - identifier: verify_yarn_lock
      buildspec: codebuild_specs/verify_yarn_lock.yml
      depend-on:
        - build_linux
    - identifier: publish_to_local_registry
      buildspec: codebuild_specs/publish_to_local_registry.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_linux
    - identifier: build_pkg_binaries_arm
      buildspec: codebuild_specs/build_pkg_binaries_arm.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - publish_to_local_registry
    - identifier: build_pkg_binaries_linux
      buildspec: codebuild_specs/build_pkg_binaries_linux.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - publish_to_local_registry
    - identifier: build_pkg_binaries_macos
      buildspec: codebuild_specs/build_pkg_binaries_macos.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - publish_to_local_registry
    - identifier: build_pkg_binaries_win
      buildspec: codebuild_specs/build_pkg_binaries_win.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - publish_to_local_registry
    - identifier: upload_pkg_binaries
      buildspec: codebuild_specs/upload_pkg_binaries.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_pkg_binaries_arm
        - build_pkg_binaries_linux
        - build_pkg_binaries_macos
        - build_pkg_binaries_win
    - identifier: verify_versions_match
      buildspec: codebuild_specs/verify_versions_match.yml
      depend-on:
        - publish_to_local_registry
    - identifier: l_api-migration-d
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth-migration-b
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-migration-c
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth-migration-c
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_notifications-migration
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-migration-b
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth-migration-a
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-key-migration-2
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-migration-a
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_notifications-migration-2
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_apigw-ext-migration
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_function_migration_update
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_storage_migration_update
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth_migration_update
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_notifications-migration-3
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api_migration_update
      buildspec: codebuild_specs/migration_tests_v6.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/update_tests/api_migration_update.test.ts
        CLI_REGION: us-east-2
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_scaffold
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-graphql-v2-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-rest-basic-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-rest-lambda-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_api-rest-serverless-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth-add-all-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_auth-override-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_custom-stack-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_geo-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_git-clone-migration-tests
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_pinpoint-region-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
    - identifier: l_storage-migration
      buildspec: codebuild_specs/migration_tests_v10.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
        TEST_SUITE:
          - src/__tests__/migration_tests_v10/storage.migration.test.ts
        CLI_REGION: ap-southeast-1
        USE_PARENT_ACCOUNT: false
      depend-on:
        - upload_pkg_binaries
