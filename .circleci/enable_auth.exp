#!/usr/bin/expect
spawn ./.circleci/auth.sh
expect "Enter a name for the project"
send -- "unauth\r"
expect -exact "Choose your default editor:"
send -- "\r"
expect "Choose the type of app that you're building"
send -- "\r"
expect "Please tell us about your project\rWhat javascript framework are you using"
send -- "\r"
expect -exact "Source Directory Path:"
send -- "\r"
expect -exact "Distribution Directory Path:"
send -- "\r"
expect -exact "Build Command:"
send -- "\r"
expect -exact "Start Command:"
send -- "\r"
expect "Using default provider awscloudformation\nAWS access credentials can not be detected\n.Setup new user"
send -- "n\r"
expect "accessKeyId:"
send -- "$env(ACCESS_KEY_ID)\r"
expect "secretAccessKey:"
send -- "$env(SECRET_ACCESS_KEY)\r"
expect -exact "region:"
send -- "\r"
set timeout 70
expect "Do you want to use default authentication and security configuration?\r"
send -- "\r"
set timeout 70
expect "Are you sure you want to continue?\r"
send -- "Y\r"
interact
