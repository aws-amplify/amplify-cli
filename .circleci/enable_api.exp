#!/usr/bin/expect
spawn ./.circleci/api.sh
expect "Select from one of the below mentioned services:\r"
send -- "\033\[B\r"
expect "Provide a friendly name for your resource to be used as a label for this category in the project:"
send -- "myAPI\r"
expect "Provide a path (e.g., /items)"
send -- "\r"
expect "Choose a Lambda source"
send -- "\r"
expect "Provide an AWS Lambda function name:"
send -- "\r"
expect "Choose the function runtime that you want to use:"
send -- "\r"
expect "Choose the function template that you want to use:"
send -- "1\r"
expect "Choose a DynamoDB data source option"
send -- "j\r"
expect "Provide a friendly name"
send -- "\r"
expect "Provide table name"
send -- "\r"
expect "What would you like to name this column"
send -- "itemNo\r"
expect "Choose the data type"
send -- "number\r"
expect "Would you like to add another column?"
send -- "n\r"
expect "Choose partition key for the table"
send -- "\r"
expect "Do you want to add a sort key to your table?"
send -- "n\r"
expect "Do you want to add global secondary indexes to your table?"
send -- "n\r"
expect "Do you want to add a Lambda Trigger for your Table?"
send -- "n\r"
expect "Do you want to configure advanced settings?"
send -- "n\r"
expect "Do you want to edit the local lambda function now?"
send -- "n\r"
expect "Restrict API access"
send -- "n"
expect "Do you want to add another path?"
send -- "n"
set timeout 70
expect "Are you sure you want to continue?\r"
send -- "Y\r"
interact
