#!/usr/bin/expect
spawn ./.circleci/amplify_init.sh
expect "Enter a name for the project"
send -- "test\r"
expect -exact "Choose your default editor:"
send -- "\r"
expect "Choose the type of app that you're building"
send -- "\r"
expect "Please tell us about your project\rWhat javascript framework are you using"
send -- "\r"
expect -exact "Source Directory Path:"
send -- "\r"
expect -exact "Distribution Directory Path:"
send -- "\r"
expect -exact "Build Command:"
send -- "\r"
expect -exact "Start Command:"
send -- "\r"
log_user 0;
expect "Using default provider awscloudformation\nAWS access credentials can not be detected\n.Setup new user"
send -- "n\r"
expect "accessKeyId:"
send -- "$env(ACCESS_KEY_ID)\r"
expect "secretAccessKey:"
send -- "$env(SECRET_ACCESS_KEY)\r"
expect -exact "region:"
send -- "\r"
log_user 1;