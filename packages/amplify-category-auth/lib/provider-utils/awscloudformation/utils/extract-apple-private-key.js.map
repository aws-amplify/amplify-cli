{"version":3,"file":"extract-apple-private-key.js","sourceRoot":"","sources":["../../../../src/provider-utils/awscloudformation/utils/extract-apple-private-key.ts"],"names":[],"mappings":";;;AAAA,MAAM,iBAAiB,GAAG,kDAAkD,CAAC;AAE7E,SAAgB,sBAAsB,CAAC,GAAW;IAEhD,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;IAG9C,MAAM,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACnD,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;QACzB,SAAS,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;KACxB;IACD,OAAO,SAAS,CAAC;AACnB,CAAC;AAVD,wDAUC","sourcesContent":["const PRIVATE_KEY_REGEX = /(-+BEGINPRIVATEKEY-+)(.+[^-])(-+ENDPRIVATEKEY-+)/;\n\nexport function extractApplePrivateKey(key: string) {\n  // Remove spaces and new lines\n  let keyString = key.replace(/[\\r\\n\\s]+/g, '');\n\n  // Removes key comments, get key from group 2\n  const matches = keyString.match(PRIVATE_KEY_REGEX);\n  if (matches && matches[2]) {\n    keyString = matches[2];\n  }\n  return keyString;\n}\n"]}