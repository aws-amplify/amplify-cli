{"version":3,"file":"pinpoint-defaults.js","sourceRoot":"","sources":["../../../../src/provider-utils/awscloudformation/default-values/pinpoint-defaults.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,2CAA6B;AAUtB,MAAM,cAAc,GAAG,CAAC,OAAyE,EAA0B,EAAE;IAClI,MAAM,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IAChE,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAEvC,MAAM,YAAY,GAAG;QACnB,GAAG,EAAE,cAAc;KACpB,CAAC;IAEF,MAAM,cAAc,GAAG;QACrB,GAAG,EAAE,gBAAgB;KACtB,CAAC;IAEF,MAAM,WAAW,GAAG;QAClB,YAAY,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC;KAClC,CAAC;IAEF,MAAM,QAAQ,GAAG;QACf,OAAO;QACP,YAAY,EAAE,OAAO;QACrB,QAAQ,EAAE,qBAAqB,OAAO,EAAE;QACxC,wBAAwB,EAAE,uBAAuB,OAAO,EAAE;QAC1D,oBAAoB,EAAE,mBAAmB,OAAO,EAAE;QAClD,kBAAkB,EAAE,iBAAiB,OAAO,EAAE;QAC9C,cAAc,EAAE,oBAAoB,OAAO,EAAE;QAC7C,gBAAgB,EAAE,oBAAoB,OAAO,EAAE;QAC/C,YAAY;QACZ,cAAc;QACd,WAAW;KACZ,CAAC;IAEF,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC;AA/BW,QAAA,cAAc,kBA+BzB","sourcesContent":["import { $TSAny, $TSMeta } from '@aws-amplify/amplify-cli-core';\nimport * as uuid from 'uuid';\n\n/**\n * Get all default parameter values for Pinpoint walkthrough\n * @param project amplify project related data\n * @param project.amplifyMeta Project metadata from amplify-meta.json\n * @param project.projectConfig Project backend configuration data\n * @param project.projectConfig.projectName Amplify project name\n * @returns default parameter values for Pinpoint\n */\nexport const getAllDefaults = (project: { amplifyMeta: $TSMeta; projectConfig: { projectName: string } }): Record<string, $TSAny> => {\n  const appName = project.projectConfig.projectName.toLowerCase();\n  const [shortId] = uuid.v4().split('-');\n\n  const authRoleName = {\n    Ref: 'AuthRoleName',\n  };\n\n  const unauthRoleName = {\n    Ref: 'UnauthRoleName',\n  };\n\n  const authRoleArn = {\n    'Fn::GetAtt': ['AuthRole', 'Arn'],\n  };\n\n  const defaults = {\n    appName,\n    resourceName: appName,\n    roleName: `pinpointLambdaRole${shortId}`,\n    cloudformationPolicyName: `cloudformationPolicy${shortId}`,\n    cloudWatchPolicyName: `cloudWatchPolicy${shortId}`,\n    pinpointPolicyName: `pinpointPolicy${shortId}`,\n    authPolicyName: `pinpoint_amplify_${shortId}`,\n    unauthPolicyName: `pinpoint_amplify_${shortId}`,\n    authRoleName,\n    unauthRoleName,\n    authRoleArn,\n  };\n\n  return defaults;\n};\n"]}